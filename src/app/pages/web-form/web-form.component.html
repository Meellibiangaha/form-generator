<div class="back">
  <button class="back-btn" [routerLink]="'/home'">На главную</button>
</div>
<h1 class="title">Анкета</h1>
<div class="form" [formGroup]="formGroup">
  <ng-container *ngFor="let control of webFormData().controls">
    <div class="form-line">
      <label class="form-label"
        >{{ control.label }}
        <span class="form-label--required" *ngIf="control.validators.required"
          >*</span
        >
      </label>
      <!-- InputCheckbox -->
      <div class="form-field" [ngSwitch]="control.type">
        <div
          *ngSwitchCase="IT.InputCheckbox"
          class="checkbox-wrapper"
          [formArrayName]="control.name"
        >
          <ng-container
            *ngFor="let item of control.checkboxItems; let i = index"
          >
            <app-test-checkbox [formControlName]="i" [item]="item" />
          </ng-container>
        </div>
        <!-- InputText -->
        <app-test-input
          *ngSwitchCase="IT.InputText"
          [formControlName]="control.name"
          [value]="!!control.value ? control.value.toString() : null"
          [placeholder]="'Например, ВолгГУ'"
          [summary]="control.descripton"
        />
        <!-- InputNumber -->
        <app-test-number
          *ngSwitchCase="IT.InputNumber"
          [formControlName]="control.name"
          [value]="!!control.value ? +control.value : null"
        />
        <!-- InputSelect -->
        <app-test-select
          *ngSwitchCase="IT.InputSelect"
          [formControlName]="control.name"
          [options]="control.selectOptions"
        />
      </div>
    </div>
  </ng-container>
  <div class="submit">
    <button class="submit-btn" (click)="submit()">Отправить</button>
    <app-control-error
      class=""
      *ngIf="formGroup.invalid && formGroup.dirty && formGroup.touched"
      [message]="'Форма не валидна'"
    />
  </div>
</div>
